class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      breweries: [],
      query: '',
      display: false,
      searchBy: 'City' //default

    };
    this.handleChange = this.handleChange.bind(this);
    this.handleClick = this.handleClick.bind(this);
    this.findBreweries = this.findBreweries.bind(this);
  }

  componentDidMount() {// this.findBreweries()
  } // for making a GET request to the API endpoint


  findBreweries() {
    let {
      searchBy,
      query
    } = this.state; //determine if searchBy is city or zipcode to determine whether to make API request to the city endpoint or postal code endpoint

    if (searchBy === 'City' && query !== '') {
      fetch(`https://api.openbrewerydb.org/breweries?by_city=${query}`).then(res => res.json()).then(brews => {
        console.log('data', brews);
        this.setState({
          breweries: brews
        });
      }).catch(err => console.error('Errot in GET', err));
    } else if (searchBy === 'Zipcode' && query !== '') {
      fetch(`https://api.openbrewerydb.org/breweries?by_postal=${Number(query)}`).then(res => res.json()).then(brews => {
        console.log('data', brews);
        this.setState({
          breweries: brews
        });
      }).catch(err => console.error('Errot in GET', err));
    }
  }

  handleChange(e) {
    console.log('e', e.target.value);
    this.setState({
      query: e.target.value
    });
  }

  handleClick(e) {
    //updates query search to Zipcode or to City (default)
    this.setState({
      searchBy: e.target.value
    });
    this.findBreweries();
  }

  render() {
    let {
      query,
      searchBy,
      breweries
    } = this.state;
    console.log(query);
    console.log('searchBy', searchBy);
    console.log('matched:', breweries);
    return /*#__PURE__*/React.createElement("div", {
      className: "pa4 bg-moon-gray"
    }, /*#__PURE__*/React.createElement("h1", {
      className: "tc"
    }, "Brewery Finder"), /*#__PURE__*/React.createElement(Search, {
      change: this.handleChange,
      click: this.handleClick,
      search: this.findBreweries
    }));
  }

}
/* ----------------------------------------------------------------------- */
//search function


const Search = props => {
  let options = ['City', 'Zipcode'];
  return /*#__PURE__*/React.createElement("div", {
    className: "mh7"
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    className: "w-80 tc",
    placeholder: "Search by city or zipcode",
    onChange: props.change
  }), /*#__PURE__*/React.createElement("select", {
    className: "w-20 tc",
    onChange: props.click
  }, options.map((op, i) => {
    {
      /* console.log('i',i) */
    }
    return /*#__PURE__*/React.createElement("option", {
      value: op,
      key: i
    }, op);
  })), /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("input", {
    type: "button",
    className: "ph3",
    value: "Search",
    onClick: props.search
  }));
};

ReactDOM.render( /*#__PURE__*/React.createElement(App, null), document.getElementById('app'));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9hcHAuanMiXSwibmFtZXMiOlsiQXBwIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3RhdGUiLCJicmV3ZXJpZXMiLCJxdWVyeSIsImRpc3BsYXkiLCJzZWFyY2hCeSIsImhhbmRsZUNoYW5nZSIsImJpbmQiLCJoYW5kbGVDbGljayIsImZpbmRCcmV3ZXJpZXMiLCJjb21wb25lbnREaWRNb3VudCIsImZldGNoIiwidGhlbiIsInJlcyIsImpzb24iLCJicmV3cyIsImNvbnNvbGUiLCJsb2ciLCJzZXRTdGF0ZSIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJOdW1iZXIiLCJlIiwidGFyZ2V0IiwidmFsdWUiLCJyZW5kZXIiLCJTZWFyY2giLCJvcHRpb25zIiwiY2hhbmdlIiwiY2xpY2siLCJtYXAiLCJvcCIsImkiLCJzZWFyY2giLCJSZWFjdERPTSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQU4sU0FBa0JDLEtBQUssQ0FBQ0MsU0FBeEIsQ0FBa0M7QUFDaENDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFFQSxTQUFLQyxLQUFMLEdBQWE7QUFDWEMsTUFBQUEsU0FBUyxFQUFFLEVBREE7QUFFWEMsTUFBQUEsS0FBSyxFQUFFLEVBRkk7QUFHWEMsTUFBQUEsT0FBTyxFQUFFLEtBSEU7QUFJWEMsTUFBQUEsUUFBUSxFQUFFLE1BSkMsQ0FJTTs7QUFKTixLQUFiO0FBTUEsU0FBS0MsWUFBTCxHQUFvQixLQUFLQSxZQUFMLENBQWtCQyxJQUFsQixDQUF1QixJQUF2QixDQUFwQjtBQUNBLFNBQUtDLFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQkQsSUFBakIsQ0FBc0IsSUFBdEIsQ0FBbkI7QUFDQSxTQUFLRSxhQUFMLEdBQXFCLEtBQUtBLGFBQUwsQ0FBbUJGLElBQW5CLENBQXdCLElBQXhCLENBQXJCO0FBQ0Q7O0FBRURH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Q0U7QUFBSyxJQUFBLFNBQVMsRUFBQztBQUFmLGtCQUNBO0FBQU8sSUFBQSxJQUFJLEVBQUMsTUFBWjtBQUFtQixJQUFBLFNBQVMsRUFBQyxTQUE3QjtBQUF1QyxJQUFBLFdBQVcsRUFBQywyQkFBbkQ7QUFBK0UsSUFBQSxRQUFRLEVBQUU1QixLQUFLLENBQUM2QjtBQUEvRixJQURBLGVBRUU7QUFBUSxJQUFBLFNBQVMsRUFBQyxTQUFsQjtBQUE0QixJQUFBLFFBQVEsRUFBRTdCLEtBQUssQ0FBQzhCO0FBQTVDLEtBQ0dGLE9BQU8sQ0FBQ0csR0FBUixDQUFZLENBQUNDLEVBQUQsRUFBS0MsQ0FBTCxLQUFXO0FBQ3RCO0FBQUM7QUFBeUI7QUFDNUIsd0JBQ0U7QUFBUSxNQUFBLEtBQUssRUFBRUQsRUFBZjtBQUFtQixNQUFBLEdBQUcsRUFBRUM7QUFBeEIsT0FBNEJELEVBQTVCLENBREY7QUFFRSxHQUpELENBREgsQ0FGRixlQVFXLCtCQVJYLGVBU0U7QUFBTyxJQUFBLElBQUksRUFBQyxRQUFaO0FBQXFCLElBQUEsU0FBUyxFQUFDLEtBQS9CO0FBQXFDLElBQUEsS0FBSyxFQUFDLFFBQTNDO0FBQW9ELElBQUEsT0FBTyxFQUFFaEMsS0FBSyxDQUFDa0M7QUFBbkUsSUFURixDQURGO0FBYUQsQ0FmRDs7QUFpQkFDLFFBQVEsQ0FBQ1QsTUFBVCxlQUFnQixvQkFBQyxHQUFELE9BQWhCLEVBQXdCVSxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsS0FBeEIsQ0FBeEIiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBicmV3ZXJpZXM6IFtdLFxuICAgICAgcXVlcnk6ICcnLFxuICAgICAgZGlzcGxheTogZmFsc2UsXG4gICAgICBzZWFyY2hCeTogJ0NpdHknIC8vZGVmYXVsdFxuICAgIH1cbiAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLmZpbmRCcmV3ZXJpZXMgPSB0aGlzLmZpbmRCcmV3ZXJpZXMuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIHRoaXMuZmluZEJyZXdlcmllcygpXG4gIH1cblxuICAvLyBmb3IgbWFraW5nIGEgR0VUIHJlcXVlc3QgdG8gdGhlIEFQSSBlbmRwb2ludFxuICBmaW5kQnJld2VyaWVzKCkge1xuICAgIGxldCB7IHNlYXJjaEJ5LCBxdWVyeSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAvL2RldGVybWluZSBpZiBzZWFyY2hCeSBpcyBjaXR5IG9yIHppcGNvZGUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gbWFrZSBBUEkgcmVxdWVzdCB0byB0aGUgY2l0eSBlbmRwb2ludCBvciBwb3N0YWwgY29kZSBlbmRwb2ludFxuICAgIGlmIChzZWFyY2hCeSA9PT0gJ0NpdHknICYmIHF1ZXJ5ICE9PSAnJykge1xuICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLm9wZW5icmV3ZXJ5ZGIub3JnL2JyZXdlcmllcz9ieV9jaXR5PSR7cXVlcnl9YClcbiAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oYnJld3MgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGJyZXdzKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYnJld2VyaWVzOiBicmV3c1xuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcignRXJyb3QgaW4gR0VUJywgZXJyKSlcbiAgICB9XG4gICAgZWxzZSBpZiAoc2VhcmNoQnkgPT09ICdaaXBjb2RlJyAmJiBxdWVyeSAhPT0gJycpIHtcbiAgICAgIGZldGNoKGBodHRwczovL2FwaS5vcGVuYnJld2VyeWRiLm9yZy9icmV3ZXJpZXM/YnlfcG9zdGFsPSR7TnVtYmVyKHF1ZXJ5KX1gKVxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbihicmV3cyA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdkYXRhJywgYnJld3MpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBicmV3ZXJpZXM6IGJyZXdzXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKCdFcnJvdCBpbiBHRVQnLCBlcnIpKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgY29uc29sZS5sb2coJ2UnLCBlLnRhcmdldC52YWx1ZSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBxdWVyeTogZS50YXJnZXQudmFsdWVcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlQ2xpY2soZSkge1xuICAgIC8vdXBkYXRlcyBxdWVyeSBzZWFyY2ggdG8gWmlwY29kZSBvciB0byBDaXR5IChkZWZhdWx0KVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2VhcmNoQnk6IGUudGFyZ2V0LnZhbHVlXG4gICAgfSk7XG4gICAgdGhpcy5maW5kQnJld2VyaWVzKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IHsgcXVlcnksIHNlYXJjaEJ5LCBicmV3ZXJpZXN9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zb2xlLmxvZyhxdWVyeSk7XG4gICAgY29uc29sZS5sb2coJ3NlYXJjaEJ5Jywgc2VhcmNoQnkpO1xuICAgIGNvbnNvbGUubG9nKCdtYXRjaGVkOicsIGJyZXdlcmllcyk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3BhNCBiZy1tb29uLWdyYXknPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPSd0Yyc+QnJld2VyeSBGaW5kZXI8L2gxPlxuICAgICAgICA8U2VhcmNoIGNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9IGNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfSBzZWFyY2g9e3RoaXMuZmluZEJyZXdlcmllc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8vc2VhcmNoIGZ1bmN0aW9uXG5jb25zdCBTZWFyY2ggPSBwcm9wcyA9PiB7XG4gIGxldCBvcHRpb25zID0gWydDaXR5JywgJ1ppcGNvZGUnXVxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdtaDcnPlxuICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBjbGFzc05hbWU9J3ctODAgdGMnIHBsYWNlaG9sZGVyPSdTZWFyY2ggYnkgY2l0eSBvciB6aXBjb2RlJyBvbkNoYW5nZT17cHJvcHMuY2hhbmdlfS8+XG4gICAgICA8c2VsZWN0IGNsYXNzTmFtZT0ndy0yMCB0Yycgb25DaGFuZ2U9e3Byb3BzLmNsaWNrfSA+XG4gICAgICAgIHtvcHRpb25zLm1hcCgob3AsIGkpID0+IHtcbiAgICAgICAgICB7LyogY29uc29sZS5sb2coJ2knLGkpICovfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9e29wfSBrZXk9e2l9PntvcH08L29wdGlvbj5cbiAgICAgICAgKX0pfVxuICAgICAgPC9zZWxlY3Q+PGJyLz5cbiAgICAgIDxpbnB1dCB0eXBlPSdidXR0b24nIGNsYXNzTmFtZT0ncGgzJyB2YWx1ZT0nU2VhcmNoJyBvbkNsaWNrPXtwcm9wcy5zZWFyY2h9Lz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5SZWFjdERPTS5yZW5kZXIoPEFwcC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykpOyJdfQ==